# Comprehensive F1 Translation Dictionary
# This file contains extensive translation patterns for F1 commentary

def get_comprehensive_translation_dict():
    """Get comprehensive translation dictionary for F1 terms"""
    return {
        "Spanish": {
            # F1 Specific Terms
            "LAP": "VUELTA", "leads": "lidera", "seconds": "segundos", "closing": "cerrando", 
            "gap": "brecha", "pits": "entra a boxes", "tires": "neumáticos", "Hamilton": "Hamilton",
            "Verstappen": "Verstappen", "Alonso": "Alonso", "Max": "Max", "Lewis": "Lewis", "Fernando": "Fernando",
            "race": "carrera", "driver": "piloto", "car": "coche", "track": "pista", "speed": "velocidad",
            "fast": "rápido", "slow": "lento", "overtake": "adelantamiento", "crash": "accidente",
            "safety": "seguridad", "flag": "bandera", "finish": "meta", "start": "inicio",
            "turn": "curva", "lap": "vuelta", "time": "tiempo", "position": "posición",
            "championship": "campeonato", "points": "puntos", "win": "victoria", "lose": "derrota",
            "team": "equipo", "engine": "motor", "brake": "freno", "accelerate": "acelerar",
            "corner": "esquina", "straight": "recta", "curve": "curva", "overtaking": "adelantamiento",
            "pit": "box", "stop": "parada", "fuel": "combustible", "tire": "neumático",
            "weather": "clima", "rain": "lluvia", "dry": "seco", "wet": "mojado",
            "grid": "parrilla", "pole": "pole", "qualifying": "clasificación",
            "practice": "entrenamiento", "session": "sesión", "round": "ronda",
            "season": "temporada", "year": "año", "month": "mes", "day": "día",
            "hour": "hora", "minute": "minuto", "second": "segundo",
            "first": "primero", "second": "segundo", "third": "tercero", "last": "último",
            "best": "mejor", "worst": "peor", "good": "bueno", "bad": "malo",
            "new": "nuevo", "old": "viejo", "big": "grande", "small": "pequeño",
            "high": "alto", "low": "bajo", "long": "largo", "short": "corto",
            "wide": "ancho", "narrow": "estrecho", "heavy": "pesado", "light": "ligero",
            "hot": "caliente", "cold": "frío", "warm": "tibio", "cool": "fresco",
            "strong": "fuerte", "weak": "débil", "powerful": "poderoso", "fast": "rápido",
            "quick": "rápido", "slow": "lento", "early": "temprano", "late": "tarde",
            "now": "ahora", "then": "entonces", "here": "aquí", "there": "allí",
            "where": "dónde", "when": "cuándo", "why": "por qué", "how": "cómo",
            "what": "qué", "who": "quién", "which": "cuál", "whose": "de quién",
            "this": "este", "that": "ese", "these": "estos", "those": "esos",
            "my": "mi", "your": "tu", "his": "su", "her": "su", "its": "su",
            "our": "nuestro", "their": "su", "me": "me", "you": "tú", "him": "él",
            "her": "ella", "us": "nosotros", "them": "ellos", "myself": "mí mismo",
            "yourself": "tú mismo", "himself": "él mismo", "herself": "ella misma",
            "ourselves": "nosotros mismos", "themselves": "ellos mismos",
            # Common Words
            "the": "el", "is": "está", "in": "en", "at": "en", "by": "por", "for": "para",
            "and": "y", "with": "con", "of": "de", "to": "a", "from": "desde", "on": "en",
            "a": "un", "an": "un", "as": "como", "be": "ser", "been": "sido", "being": "siendo",
            "have": "tener", "has": "tiene", "had": "tenía", "having": "teniendo",
            "do": "hacer", "does": "hace", "did": "hizo", "doing": "haciendo",
            "will": "voluntad", "would": "haría", "could": "podría", "should": "debería",
            "may": "puede", "might": "podría", "must": "debe", "can": "puede",
            "go": "ir", "goes": "va", "went": "fue", "going": "yendo", "gone": "ido",
            "come": "venir", "comes": "viene", "came": "vino", "coming": "viniendo",
            "get": "obtener", "gets": "obtiene", "got": "obtuvo", "getting": "obteniendo",
            "make": "hacer", "makes": "hace", "made": "hizo", "making": "haciendo",
            "take": "tomar", "takes": "toma", "took": "tomó", "taking": "tomando",
            "see": "ver", "sees": "ve", "saw": "vio", "seeing": "viendo", "seen": "visto",
            "know": "saber", "knows": "sabe", "knew": "supo", "knowing": "sabiendo", "known": "sabido",
            "think": "pensar", "thinks": "piensa", "thought": "pensó", "thinking": "pensando",
            "look": "mirar", "looks": "mira", "looked": "miró", "looking": "mirando",
            "want": "querer", "wants": "quiere", "wanted": "quiso", "wanting": "queriendo",
            "give": "dar", "gives": "da", "gave": "dio", "giving": "dando", "given": "dado",
            "use": "usar", "uses": "usa", "used": "usó", "using": "usando",
            "find": "encontrar", "finds": "encuentra", "found": "encontró", "finding": "encontrando",
            "tell": "decir", "tells": "dice", "told": "dijo", "telling": "diciendo",
            "ask": "preguntar", "asks": "pregunta", "asked": "preguntó", "asking": "preguntando",
            "work": "trabajar", "works": "trabaja", "worked": "trabajó", "working": "trabajando",
            "seem": "parecer", "seems": "parece", "seemed": "pareció", "seeming": "pareciendo",
            "feel": "sentir", "feels": "siente", "felt": "sintió", "feeling": "sintiendo",
            "try": "intentar", "tries": "intenta", "tried": "intentó", "trying": "intentando",
            "leave": "dejar", "leaves": "deja", "left": "dejó", "leaving": "dejando",
            "call": "llamar", "calls": "llama", "called": "llamó", "calling": "llamando",
            "move": "mover", "moves": "mueve", "moved": "movió", "moving": "moviendo",
            "play": "jugar", "plays": "juega", "played": "jugó", "playing": "jugando",
            "turn": "girar", "turns": "gira", "turned": "giró", "turning": "girando",
            "start": "empezar", "starts": "empieza", "started": "empezó", "starting": "empezando",
            "help": "ayudar", "helps": "ayuda", "helped": "ayudó", "helping": "ayudando",
            "show": "mostrar", "shows": "muestra", "showed": "mostró", "showing": "mostrando",
            "hear": "escuchar", "hears": "escucha", "heard": "escuchó", "hearing": "escuchando",
            "let": "dejar", "lets": "deja", "letting": "dejando",
            "put": "poner", "puts": "pone", "putting": "poniendo",
            "end": "terminar", "ends": "termina", "ended": "terminó", "ending": "terminando",
            "begin": "comenzar", "begins": "comienza", "began": "comenzó", "beginning": "comenzando",
            "keep": "mantener", "keeps": "mantiene", "kept": "mantuvo", "keeping": "mantiendo",
            "hold": "sostener", "holds": "sostiene", "held": "sostuvo", "holding": "sosteniendo",
            "bring": "traer", "brings": "trae", "brought": "trajo", "bringing": "trayendo",
            "write": "escribir", "writes": "escribe", "wrote": "escribió", "writing": "escribiendo", "written": "escrito",
            "provide": "proporcionar", "provides": "proporciona", "provided": "proporcionó", "providing": "proporcionando",
            "sit": "sentar", "sits": "sienta", "sat": "sentó", "sitting": "sentando",
            "stand": "estar de pie", "stands": "está de pie", "stood": "estuvo de pie", "standing": "estando de pie",
            "lose": "perder", "loses": "pierde", "lost": "perdió", "losing": "perdiendo",
            "pay": "pagar", "pays": "paga", "paid": "pagó", "paying": "pagando",
            "meet": "conocer", "meets": "conoce", "met": "conoció", "meeting": "conociendo",
            "include": "incluir", "includes": "incluye", "included": "incluyó", "including": "incluyendo",
            "continue": "continuar", "continues": "continúa", "continued": "continuó", "continuing": "continuando",
            "set": "establecer", "sets": "establece", "setting": "estableciendo",
            "learn": "aprender", "learns": "aprende", "learned": "aprendió", "learning": "aprendiendo",
            "change": "cambiar", "changes": "cambia", "changed": "cambió", "changing": "cambiando",
            "lead": "liderar", "leads": "lidera", "led": "lideró", "leading": "liderando",
            "understand": "entender", "understands": "entiende", "understood": "entendió", "understanding": "entendiendo",
            "watch": "ver", "watches": "ve", "watched": "vio", "watching": "viendo",
            "follow": "seguir", "follows": "sigue", "followed": "siguió", "following": "siguiendo",
            "stop": "parar", "stops": "para", "stopped": "paró", "stopping": "parando",
            "create": "crear", "creates": "crea", "created": "creó", "creating": "creando",
            "speak": "hablar", "speaks": "habla", "spoke": "habló", "speaking": "hablando", "spoken": "hablado",
            "read": "leer", "reads": "lee", "reading": "leyendo",
            "allow": "permitir", "allows": "permite", "allowed": "permitió", "allowing": "permitiendo",
            "add": "añadir", "adds": "añade", "added": "añadió", "adding": "añadiendo",
            "spend": "gastar", "spends": "gasta", "spent": "gastó", "spending": "gastando",
            "grow": "crecer", "grows": "crece", "grew": "creció", "growing": "creciendo", "grown": "crecido",
            "open": "abrir", "opens": "abre", "opened": "abrió", "opening": "abriendo",
            "walk": "caminar", "walks": "camina", "walked": "caminó", "walking": "caminando",
            "win": "ganar", "wins": "gana", "won": "ganó", "winning": "ganando",
            "offer": "ofrecer", "offers": "ofrece", "offered": "ofreció", "offering": "ofreciendo",
            "remember": "recordar", "remembers": "recuerda", "remembered": "recordó", "remembering": "recordando",
            "love": "amar", "loves": "ama", "loved": "amó", "loving": "amando",
            "consider": "considerar", "considers": "considera", "considered": "consideró", "considering": "considerando",
            "appear": "aparecer", "appears": "aparece", "appeared": "apareció", "appearing": "apareciendo",
            "buy": "comprar", "buys": "compra", "bought": "compró", "buying": "comprando",
            "wait": "esperar", "waits": "espera", "waited": "esperó", "waiting": "esperando",
            "serve": "servir", "serves": "sirve", "served": "sirvió", "serving": "sirviendo",
            "die": "morir", "dies": "muere", "died": "murió", "dying": "muriendo",
            "send": "enviar", "sends": "envía", "sent": "envió", "sending": "enviando",
            "expect": "esperar", "expects": "espera", "expected": "esperó", "expecting": "esperando",
            "build": "construir", "builds": "construye", "built": "construyó", "building": "construyendo",
            "stay": "quedarse", "stays": "se queda", "stayed": "se quedó", "staying": "quedándose",
            "fall": "caer", "falls": "cae", "fell": "cayó", "falling": "cayendo", "fallen": "caído",
            "cut": "cortar", "cuts": "corta", "cutting": "cortando",
            "reach": "alcanzar", "reaches": "alcanza", "reached": "alcanzó", "reaching": "alcanzando",
            "kill": "matar", "kills": "mata", "killed": "mató", "killing": "matando",
            "remain": "permanecer", "remains": "permanece", "remained": "permaneció", "remaining": "permaneciendo",
            "suggest": "sugerir", "suggests": "sugiere", "suggested": "sugirió", "suggesting": "sugiriendo",
            "raise": "levantar", "raises": "levanta", "raised": "levantó", "raising": "levantando",
            "pass": "pasar", "passes": "pasa", "passed": "pasó", "passing": "pasando",
            "sell": "vender", "sells": "vende", "sold": "vendió", "selling": "vendiendo",
            "require": "requerir", "requires": "requiere", "required": "requirió", "requiring": "requiriendo",
            "report": "reportar", "reports": "reporta", "reported": "reportó", "reporting": "reportando",
            "decide": "decidir", "decides": "decide", "decided": "decidió", "deciding": "decidiendo",
            "pull": "tirar", "pulls": "tira", "pulled": "tiró", "pulling": "tirando"
        },
        "French": {
            # F1 Specific Terms
            "LAP": "TOUR", "leads": "mène", "seconds": "secondes", "closing": "réduit", 
            "gap": "écart", "pits": "s'arrête", "tires": "pneus", "Hamilton": "Hamilton",
            "Verstappen": "Verstappen", "Alonso": "Alonso", "Max": "Max", "Lewis": "Lewis", "Fernando": "Fernando",
            "race": "course", "driver": "pilote", "car": "voiture", "track": "piste", "speed": "vitesse",
            "fast": "rapide", "slow": "lent", "overtake": "dépassement", "crash": "accident",
            "safety": "sécurité", "flag": "drapeau", "finish": "arrivée", "start": "départ",
            "turn": "virage", "lap": "tour", "time": "temps", "position": "position",
            "championship": "championnat", "points": "points", "win": "victoire", "lose": "défaite",
            "team": "équipe", "engine": "moteur", "brake": "frein", "accelerate": "accélérer",
            "corner": "coin", "straight": "ligne droite", "curve": "courbe", "overtaking": "dépassement",
            "pit": "stand", "stop": "arrêt", "fuel": "carburant", "tire": "pneu",
            "weather": "temps", "rain": "pluie", "dry": "sec", "wet": "mouillé",
            "grid": "grille", "pole": "pole", "qualifying": "qualification",
            "practice": "entraînement", "session": "session", "round": "tour",
            "season": "saison", "year": "année", "month": "mois", "day": "jour",
            "hour": "heure", "minute": "minute", "second": "seconde",
            "first": "premier", "second": "deuxième", "third": "troisième", "last": "dernier",
            "best": "meilleur", "worst": "pire", "good": "bon", "bad": "mauvais",
            "new": "nouveau", "old": "vieux", "big": "grand", "small": "petit",
            "high": "haut", "low": "bas", "long": "long", "short": "court",
            "wide": "large", "narrow": "étroit", "heavy": "lourd", "light": "léger",
            "hot": "chaud", "cold": "froid", "warm": "chaud", "cool": "frais",
            "strong": "fort", "weak": "faible", "powerful": "puissant", "fast": "rapide",
            "quick": "rapide", "slow": "lent", "early": "tôt", "late": "tard",
            "now": "maintenant", "then": "alors", "here": "ici", "there": "là",
            "where": "où", "when": "quand", "why": "pourquoi", "how": "comment",
            "what": "quoi", "who": "qui", "which": "lequel", "whose": "dont",
            "this": "ce", "that": "cela", "these": "ces", "those": "ceux",
            "my": "mon", "your": "ton", "his": "son", "her": "son", "its": "son",
            "our": "notre", "their": "leur", "me": "moi", "you": "tu", "him": "lui",
            "her": "elle", "us": "nous", "them": "eux", "myself": "moi-même",
            "yourself": "toi-même", "himself": "lui-même", "herself": "elle-même",
            "ourselves": "nous-mêmes", "themselves": "eux-mêmes",
            # Common Words
            "the": "le", "is": "est", "in": "dans", "at": "à", "by": "par", "for": "pour",
            "and": "et", "with": "avec", "of": "de", "to": "à", "from": "de", "on": "sur",
            "a": "un", "an": "un", "as": "comme", "be": "être", "been": "été", "being": "étant",
            "have": "avoir", "has": "a", "had": "avait", "having": "ayant",
            "do": "faire", "does": "fait", "did": "fit", "doing": "faisant",
            "will": "volonté", "would": "ferait", "could": "pourrait", "should": "devrait",
            "may": "peut", "might": "pourrait", "must": "doit", "can": "peut",
            "go": "aller", "goes": "va", "went": "alla", "going": "allant", "gone": "allé",
            "come": "venir", "comes": "vient", "came": "vint", "coming": "venant",
            "get": "obtenir", "gets": "obtient", "got": "obtint", "getting": "obtenant",
            "make": "faire", "makes": "fait", "made": "fit", "making": "faisant",
            "take": "prendre", "takes": "prend", "took": "prit", "taking": "prenant",
            "see": "voir", "sees": "voit", "saw": "vit", "seeing": "voyant", "seen": "vu",
            "know": "savoir", "knows": "sait", "knew": "sut", "knowing": "sachant", "known": "su",
            "think": "penser", "thinks": "pense", "thought": "pensa", "thinking": "pensant",
            "look": "regarder", "looks": "regarde", "looked": "regarda", "looking": "regardant",
            "want": "vouloir", "wants": "veut", "wanted": "voulut", "wanting": "voulant",
            "give": "donner", "gives": "donne", "gave": "donna", "giving": "donnant", "given": "donné",
            "use": "utiliser", "uses": "utilise", "used": "utilisa", "using": "utilisant",
            "find": "trouver", "finds": "trouve", "found": "trouva", "finding": "trouvant",
            "tell": "dire", "tells": "dit", "told": "dît", "telling": "disant",
            "ask": "demander", "asks": "demande", "asked": "demanda", "asking": "demandant",
            "work": "travailler", "works": "travaille", "worked": "travailla", "working": "travaillant",
            "seem": "sembler", "seems": "semble", "seemed": "sembla", "seeming": "semblant",
            "feel": "sentir", "feels": "sent", "felt": "sentit", "feeling": "sentant",
            "try": "essayer", "tries": "essaie", "tried": "essaya", "trying": "essayant",
            "leave": "laisser", "leaves": "laisse", "left": "laissa", "leaving": "laissant",
            "call": "appeler", "calls": "appelle", "called": "appela", "calling": "appelant",
            "move": "bouger", "moves": "bouge", "moved": "bougea", "moving": "bougeant",
            "play": "jouer", "plays": "joue", "played": "joua", "playing": "jouant",
            "turn": "tourner", "turns": "tourne", "turned": "tourna", "turning": "tournant",
            "start": "commencer", "starts": "commence", "started": "commença", "starting": "commençant",
            "help": "aider", "helps": "aide", "helped": "aida", "helping": "aidant",
            "show": "montrer", "shows": "montre", "showed": "montra", "showing": "montrant",
            "hear": "entendre", "hears": "entend", "heard": "entendit", "hearing": "entendant",
            "let": "laisser", "lets": "laisse", "letting": "laissant",
            "put": "mettre", "puts": "met", "putting": "mettant",
            "end": "finir", "ends": "finit", "ended": "finit", "ending": "finissant",
            "begin": "commencer", "begins": "commence", "began": "commença", "beginning": "commençant",
            "keep": "garder", "keeps": "garde", "kept": "gardait", "keeping": "gardant",
            "hold": "tenir", "holds": "tient", "held": "tenait", "holding": "tenant",
            "bring": "apporter", "brings": "apporte", "brought": "apporta", "bringing": "apportant",
            "write": "écrire", "writes": "écrit", "wrote": "écrivit", "writing": "écrivant", "written": "écrit",
            "provide": "fournir", "provides": "fournit", "provided": "fournit", "providing": "fournissant",
            "sit": "s'asseoir", "sits": "s'assoit", "sat": "s'assit", "sitting": "s'asseyant",
            "stand": "se tenir debout", "stands": "se tient debout", "stood": "se tint debout", "standing": "se tenant debout",
            "lose": "perdre", "loses": "perd", "lost": "perdit", "losing": "perdant",
            "pay": "payer", "pays": "paie", "paid": "payait", "paying": "payant",
            "meet": "rencontrer", "meets": "rencontre", "met": "rencontra", "meeting": "rencontrant",
            "include": "inclure", "includes": "inclut", "included": "inclut", "including": "incluant",
            "continue": "continuer", "continues": "continue", "continued": "continua", "continuing": "continuant",
            "set": "établir", "sets": "établit", "setting": "établissant",
            "learn": "apprendre", "learns": "apprend", "learned": "apprit", "learning": "apprenant",
            "change": "changer", "changes": "change", "changed": "changea", "changing": "changeant",
            "lead": "mener", "leads": "mène", "led": "mena", "leading": "menant",
            "understand": "comprendre", "understands": "comprend", "understood": "comprit", "understanding": "comprenant",
            "watch": "regarder", "watches": "regarde", "watched": "regarda", "watching": "regardant",
            "follow": "suivre", "follows": "suit", "followed": "suit", "following": "suivant",
            "stop": "arrêter", "stops": "arrête", "stopped": "arrêta", "stopping": "arrêtant",
            "create": "créer", "creates": "crée", "created": "créa", "creating": "créant",
            "speak": "parler", "speaks": "parle", "spoke": "parla", "speaking": "parlant", "spoken": "parlé",
            "read": "lire", "reads": "lit", "reading": "lisant",
            "allow": "permettre", "allows": "permet", "allowed": "permit", "allowing": "permettant",
            "add": "ajouter", "adds": "ajoute", "added": "ajouta", "adding": "ajoutant",
            "spend": "dépenser", "spends": "dépense", "spent": "dépensa", "spending": "dépensant",
            "grow": "grandir", "grows": "grandit", "grew": "grandit", "growing": "grandissant", "grown": "grandi",
            "open": "ouvrir", "opens": "ouvre", "opened": "ouvrit", "opening": "ouvrant",
            "walk": "marcher", "walks": "marche", "walked": "marcha", "walking": "marchant",
            "win": "gagner", "wins": "gagne", "won": "gagna", "winning": "gagnant",
            "offer": "offrir", "offers": "offre", "offered": "offrit", "offering": "offrant",
            "remember": "se souvenir", "remembers": "se souvient", "remembered": "se souvint", "remembering": "se souvenant",
            "love": "aimer", "loves": "aime", "loved": "aima", "loving": "aimant",
            "consider": "considérer", "considers": "considère", "considered": "considéra", "considering": "considérant",
            "appear": "apparaître", "appears": "apparaît", "appeared": "apparut", "appearing": "apparaissant",
            "buy": "acheter", "buys": "achète", "bought": "acheta", "buying": "achetant",
            "wait": "attendre", "waits": "attend", "waited": "attendit", "waiting": "attendant",
            "serve": "servir", "serves": "sert", "served": "servit", "serving": "servant",
            "die": "mourir", "dies": "meurt", "died": "mourut", "dying": "mourant",
            "send": "envoyer", "sends": "envoie", "sent": "envoya", "sending": "envoyant",
            "expect": "attendre", "expects": "attend", "expected": "attendit", "expecting": "attendant",
            "build": "construire", "builds": "construit", "built": "construisit", "building": "construisant",
            "stay": "rester", "stays": "reste", "stayed": "resta", "staying": "restant",
            "fall": "tomber", "falls": "tombe", "fell": "tomba", "falling": "tombant", "fallen": "tombé",
            "cut": "couper", "cuts": "coupe", "cutting": "coupant",
            "reach": "atteindre", "reaches": "atteint", "reached": "atteignit", "reaching": "atteignant",
            "kill": "tuer", "kills": "tue", "killed": "tua", "killing": "tuant",
            "remain": "rester", "remains": "reste", "remained": "resta", "remaining": "restant",
            "suggest": "suggérer", "suggests": "suggère", "suggested": "suggéra", "suggesting": "suggérant",
            "raise": "lever", "raises": "lève", "raised": "leva", "raising": "levant",
            "pass": "passer", "passes": "passe", "passed": "passa", "passing": "passant",
            "sell": "vendre", "sells": "vend", "sold": "vendit", "selling": "vendant",
            "require": "exiger", "requires": "exige", "required": "exigea", "requiring": "exigeant",
            "report": "rapporter", "reports": "rapporte", "reported": "rapporta", "reporting": "rapportant",
            "decide": "décider", "decides": "décide", "decided": "décida", "deciding": "décidant",
            "pull": "tirer", "pulls": "tire", "pulled": "tira", "pulling": "tirant"
        }
    }

def translate_text_comprehensive(text, target_language):
    """Comprehensive translation function with extensive word coverage"""
    import random
    
    # Get comprehensive translation dictionary
    f1_patterns = get_comprehensive_translation_dict()
    
    if target_language == "Simplified":
        # Simplify the text
        simplified = text
        # Replace complex terms with simpler ones
        replacements = {
            "LAP": "Lap",
            "leads by": "is first",
            "closing the gap": "chasing",
            "pits for": "stops for",
            "fresh tires": "new tires",
            "enters the pits": "stops",
            "overtakes": "passes",
            "championship": "title",
            "qualifying": "qualifying",
            "grid position": "starting position",
            "fastest lap": "best lap",
            "safety car": "safety car",
            "red flag": "red flag",
            "yellow flag": "yellow flag",
            "blue flag": "blue flag"
        }
        
        for complex_term, simple_term in replacements.items():
            simplified = simplified.replace(complex_term, simple_term)
        
        return simplified
    
    # Get translation patterns for the target language
    patterns = f1_patterns.get(target_language, {})
    
    # Enhanced translation with phrase patterns
    phrase_patterns = {
        "Spanish": {
            "leads by": "lidera por",
            "closing the gap": "cerrando la brecha",
            "pits for": "entra a boxes por",
            "fresh tires": "neumáticos nuevos",
            "enters the pits": "entra a boxes",
            "overtakes": "adelanta a",
            "at turn": "en la curva",
            "due to": "debido a",
            "safety car": "coche de seguridad",
            "red flag": "bandera roja",
            "yellow flag": "bandera amarilla"
        },
        "French": {
            "leads by": "mène de",
            "closing the gap": "réduit l'écart",
            "pits for": "s'arrête pour",
            "fresh tires": "nouveaux pneus",
            "enters the pits": "entre aux stands",
            "overtakes": "dépasse",
            "at turn": "au virage",
            "due to": "à cause de",
            "safety car": "voiture de sécurité",
            "red flag": "drapeau rouge",
            "yellow flag": "drapeau jaune"
        }
    }
    
    # First, translate phrases
    translated_text = text
    phrases = phrase_patterns.get(target_language, {})
    
    for english_phrase, translated_phrase in phrases.items():
        translated_text = translated_text.replace(english_phrase, translated_phrase)
    
    # Then translate individual words
    words = translated_text.split()
    translated_words = []
    
    for word in words:
        # Clean word (remove punctuation for lookup)
        clean_word = word.strip(".,!?;:")
        if clean_word.upper() in patterns:
            translated_word = patterns[clean_word.upper()]
            # Preserve original case and punctuation
            if word.isupper():
                translated_words.append(translated_word.upper())
            elif word.istitle():
                translated_words.append(translated_word.title())
            else:
                translated_words.append(translated_word.lower())
        else:
            translated_words.append(word)
    
    return " ".join(translated_words)


